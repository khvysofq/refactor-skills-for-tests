# ä¼šè¯çŠ¶æ€æ¨¡æ¿

> **ç”¨é€”**ï¼šè®°å½•å·¥ä½œæµæ‰§è¡ŒçŠ¶æ€ï¼Œæ”¯æŒä»»åŠ¡ä¸­æ–­åæ¢å¤  
> **ä½ç½®**ï¼š`docs/testing/.session_state.md`

---

## ä½¿ç”¨è¯´æ˜

1. åœ¨ Phase 01 å®Œæˆååˆ›å»ºæ­¤æ–‡ä»¶
2. æ¯æ¬¡çŠ¶æ€å˜æ›´åç«‹å³æ›´æ–°
3. ä»»åŠ¡ä¸­æ–­å‰ç¡®ä¿çŠ¶æ€å·²ä¿å­˜
4. æ¢å¤ä»»åŠ¡æ—¶é¦–å…ˆé˜…è¯»æ­¤æ–‡ä»¶

---

## æ¨¡æ¿

```markdown
# é‡æ„å·¥ä½œæµä¼šè¯çŠ¶æ€

> åˆ›å»ºæ—¶é—´: YYYY-MM-DD HH:MM
> æœ€åæ›´æ–°: YYYY-MM-DD HH:MM
> å·¥ä½œæµç‰ˆæœ¬: v2.0

---

## å½“å‰çŠ¶æ€

| å±æ€§ | å€¼ |
|------|-----|
| **å½“å‰é˜¶æ®µ** | Phase XX: <é˜¶æ®µåç§°> |
| **å½“å‰Skill** | Skill XX: <æŠ€èƒ½åç§°> / æ—  |
| **å½“å‰æ¨¡å—** | <æ¨¡å—åç§°> / æ—  |
| **é—¨ç¦çŠ¶æ€** | G0 / G1 / G2 / G3 / æœªè¿è¡Œ |
| **é˜»å¡çŠ¶æ€** | æ—  / ç­‰å¾…äººå·¥è¾“å…¥ / ç­‰å¾…å¤–éƒ¨ä¾èµ– |

---

## é˜¶æ®µå®ŒæˆçŠ¶æ€

| é˜¶æ®µ | çŠ¶æ€ | å¼€å§‹æ—¶é—´ | å®Œæˆæ—¶é—´ | å¤‡æ³¨ |
|------|------|----------|----------|------|
| Phase 01: åŸºçº¿å‡†å¤‡ | âšª æœªå¼€å§‹ / ğŸ”µ è¿›è¡Œä¸­ / ğŸŸ¢ å·²å®Œæˆ | | | |
| Phase 02: å·¥ç¨‹åˆ†æ | âšª æœªå¼€å§‹ / ğŸ”µ è¿›è¡Œä¸­ / ğŸŸ¢ å·²å®Œæˆ | | | |
| Phase 03: ä¼˜å…ˆçº§æ’åº | âšª æœªå¼€å§‹ / ğŸ”µ è¿›è¡Œä¸­ / ğŸŸ¢ å·²å®Œæˆ | | | |
| Phase 04: è¿­ä»£å¾ªç¯ | âšª æœªå¼€å§‹ / ğŸ”µ è¿›è¡Œä¸­ / ğŸŸ¢ å·²å®Œæˆ | | | |

---

## å½“å‰ä»»åŠ¡ä¸Šä¸‹æ–‡

### æ­£åœ¨å¤„ç†çš„æ¨¡å—

| å±æ€§ | å€¼ |
|------|-----|
| æ¨¡å—åç§° | |
| æ¨¡å—è·¯å¾„ | |
| è¯„ä¼°çŠ¶æ€ | S1 / S2 / S3 / S4 / å¾…è¯„ä¼° |
| å½“å‰Skill | |
| Skillå†…ä»»åŠ¡ | ä»»åŠ¡ X: <ä»»åŠ¡åç§°> |
| ä»»åŠ¡è¿›åº¦ | X% / æè¿° |

### å¾…å¤„ç†äº‹é¡¹

- [ ] 
- [ ] 
- [ ] 

### é˜»å¡é—®é¢˜

| é—®é¢˜ID | é—®é¢˜æè¿° | ç±»å‹ | ç­‰å¾… | åˆ›å»ºæ—¶é—´ | é¢„è®¡è§£é™¤ |
|--------|----------|------|------|----------|----------|
| B001 | | äººå·¥è¾“å…¥ / å¤–éƒ¨ä¾èµ– / æŠ€æœ¯é—®é¢˜ | | | |

---

## å…³é”®æ–‡æ¡£çŠ¶æ€

| æ–‡æ¡£ | è·¯å¾„ | çŠ¶æ€ | æœ€åæ›´æ–° |
|------|------|------|----------|
| ä¼šè¯çŠ¶æ€ | docs/testing/.session_state.md | ğŸŸ¢ å­˜åœ¨ | |
| æ¨¡å—åœ°å›¾ | docs/architecture/module_map.md | âšª ä¸å­˜åœ¨ / ğŸ”µ è¿›è¡Œä¸­ / ğŸŸ¢ å·²å®Œæˆ | |
| æ„å»ºå…¥å£ | docs/build/build_entrypoints.md | âšª ä¸å­˜åœ¨ / ğŸ”µ è¿›è¡Œä¸­ / ğŸŸ¢ å·²å®Œæˆ | |
| æµ‹è¯•å¾…åŠ | docs/testing/backlog.md | âšª ä¸å­˜åœ¨ / ğŸ”µ è¿›è¡Œä¸­ / ğŸŸ¢ å·²å®Œæˆ | |
| é™æ€åˆ†æ | docs/analysis/static_analysis_report.md | âšª ä¸å­˜åœ¨ / ğŸ”µ è¿›è¡Œä¸­ / ğŸŸ¢ å·²å®Œæˆ | |

---

## è¿­ä»£è¿›åº¦ï¼ˆPhase 04ï¼‰

### ç»Ÿè®¡

| æŒ‡æ ‡ | å€¼ |
|------|-----|
| æ€»æ¨¡å—æ•° | |
| å·²å®Œæˆ | |
| è¿›è¡Œä¸­ | |
| å¾…å¤„ç† | |
| é˜»å¡ | |
| å®Œæˆç‡ | % |

### å½“å‰æ‰¹æ¬¡

| # | æ¨¡å— | çŠ¶æ€ | å¼€å§‹æ—¶é—´ | å®Œæˆæ—¶é—´ |
|---|------|------|----------|----------|
| 1 | | ğŸŸ¢ Done / ğŸ”µ Doing / âšª Todo | | |
| 2 | | | | |
| 3 | | | | |

---

## æœ€è¿‘æ“ä½œæ—¥å¿—

| æ—¶é—´ | æ“ä½œ | Skill | ç»“æœ | å¤‡æ³¨ |
|------|------|-------|------|------|
| YYYY-MM-DD HH:MM | | | æˆåŠŸ / å¤±è´¥ / ä¸­æ–­ | |
| YYYY-MM-DD HH:MM | | | | |
| YYYY-MM-DD HH:MM | | | | |
| YYYY-MM-DD HH:MM | | | | |
| YYYY-MM-DD HH:MM | | | | |

---

## æ¢å¤æŒ‡å¼•

### å¿«é€Ÿæ¢å¤æ­¥éª¤

1. **ç¡®è®¤é—¨ç¦çŠ¶æ€**
   ```bash
   ./tools/test.sh && echo "G0: ç»¿ç¯" || echo "éG0: éœ€è¦æ£€æŸ¥"
   ```

2. **ç¡®è®¤å½“å‰ä½ç½®**
   - å½“å‰é˜¶æ®µ: 
   - å½“å‰Skill: 
   - å½“å‰æ¨¡å—: 

3. **æ£€æŸ¥é˜»å¡é¡¹**
   - æ˜¯å¦æœ‰æœªè§£å†³çš„é˜»å¡: 
   - é˜»å¡æ˜¯å¦å·²è§£é™¤: 

4. **ç»§ç»­æ‰§è¡Œ**
   - ä¸‹ä¸€æ­¥æ“ä½œ: 

### ç›¸å…³æ–‡æ¡£é“¾æ¥

- å½“å‰é˜¶æ®µæ–‡æ¡£: [Phase XX](../phases/XX-xxx.md)
- å½“å‰Skillæ–‡æ¡£: [Skill XX](../skills/skill-XX-xxx.md)
- å½“å‰æ¨¡å—å¡ç‰‡: [æ¨¡å—å](modules/xxx.md)
- å†³ç­–æµç¨‹: [å†³ç­–å](../decisions/xxx.md)

---

## æ£€æŸ¥ç‚¹å†å²

| æ£€æŸ¥ç‚¹ | æ—¶é—´ | æè¿° | æ–‡ä»¶ |
|--------|------|------|------|
| CP001 | | Phase 01 å®Œæˆ | checkpoints/phase_01_complete.md |
| CP002 | | Phase 02 å®Œæˆ | checkpoints/phase_02_complete.md |
| CP003 | | æ¨¡å— X å®Œæˆ | checkpoints/iteration_snapshots/module_x_done.md |

---

## å¤‡æ³¨

<è‡ªç”±è®°å½•ä»»ä½•æœ‰åŠ©äºæ¢å¤çš„ä¿¡æ¯>
```

---

## çŠ¶æ€æ›´æ–°è„šæœ¬

```bash
#!/bin/bash
# tools/update_session.sh
# ç”¨æ³•: ./tools/update_session.sh <field> <value>

STATE_FILE="docs/testing/.session_state.md"
TIMESTAMP=$(date "+%Y-%m-%d %H:%M")

# æ›´æ–°æœ€åæ›´æ–°æ—¶é—´
sed -i "s/> æœ€åæ›´æ–°:.*/> æœ€åæ›´æ–°: $TIMESTAMP/" "$STATE_FILE"

# æ·»åŠ æ“ä½œæ—¥å¿—
add_log() {
    local operation="$1"
    local skill="$2"
    local result="$3"
    local note="$4"
    
    # åœ¨"æœ€è¿‘æ“ä½œæ—¥å¿—"è¡¨æ ¼æœ«å°¾æ·»åŠ æ–°è¡Œ
    sed -i "/^| YYYY-MM-DD HH:MM |/i | $TIMESTAMP | $operation | $skill | $result | $note |" "$STATE_FILE"
}

case "$1" in
    "phase")
        sed -i "s/| \*\*å½“å‰é˜¶æ®µ\*\* |.*/| **å½“å‰é˜¶æ®µ** | $2 |/" "$STATE_FILE"
        add_log "åˆ‡æ¢é˜¶æ®µ" "-" "æˆåŠŸ" "è¿›å…¥ $2"
        ;;
    "skill")
        sed -i "s/| \*\*å½“å‰Skill\*\* |.*/| **å½“å‰Skill** | $2 |/" "$STATE_FILE"
        add_log "åˆ‡æ¢Skill" "$2" "æˆåŠŸ" ""
        ;;
    "module")
        sed -i "s/| \*\*å½“å‰æ¨¡å—\*\* |.*/| **å½“å‰æ¨¡å—** | $2 |/" "$STATE_FILE"
        ;;
    "gate")
        sed -i "s/| \*\*é—¨ç¦çŠ¶æ€\*\* |.*/| **é—¨ç¦çŠ¶æ€** | $2 |/" "$STATE_FILE"
        add_log "é—¨ç¦æ£€æŸ¥" "-" "$2" ""
        ;;
    "block")
        sed -i "s/| \*\*é˜»å¡çŠ¶æ€\*\* |.*/| **é˜»å¡çŠ¶æ€** | $2 |/" "$STATE_FILE"
        ;;
    "log")
        add_log "$2" "$3" "$4" "$5"
        ;;
    *)
        echo "Usage: $0 {phase|skill|module|gate|block|log} <value> [additional args]"
        exit 1
        ;;
esac

echo "Session state updated at $TIMESTAMP"
```

---

## åˆå§‹åŒ–è„šæœ¬

```bash
#!/bin/bash
# tools/init_session.sh
# åœ¨ Phase 01 å®Œæˆåè¿è¡Œï¼Œåˆå§‹åŒ–ä¼šè¯çŠ¶æ€æ–‡ä»¶

mkdir -p docs/testing/checkpoints/iteration_snapshots
mkdir -p docs/testing/modules

STATE_FILE="docs/testing/.session_state.md"
TIMESTAMP=$(date "+%Y-%m-%d %H:%M")

# ä»æ¨¡æ¿åˆ›å»ºï¼ˆå‡è®¾æ¨¡æ¿åœ¨ workflow ç›®å½•ï¼‰
cp templates/session-state.md "$STATE_FILE"

# æ›¿æ¢æ—¶é—´æˆ³
sed -i "s/YYYY-MM-DD HH:MM/$TIMESTAMP/g" "$STATE_FILE"

echo "Session state initialized at $STATE_FILE"
```
