# Backlog 条目模板

> **用途**：管理模块测试化的待办队列  
> **位置**：`docs/testing/backlog.md`

---

## 使用说明

1. 在 Phase 03 创建初始 Backlog
2. 使用下方模板格式
3. 在 Phase 04 迭代中持续更新状态

---

## Backlog 文档模板

```markdown
# 测试待办队列

> 创建日期: YYYY-MM-DD
> 最后更新: YYYY-MM-DD

---

## 概览

| 指标 | 值 |
|------|-----|
| 总模块数 | XX |
| 已完成 | XX |
| 进行中 | XX |
| 待处理 | XX |
| 阻塞 | XX |
| 覆盖率 | XX% |

---

## 状态说明

| 状态 | 含义 | 颜色 |
|------|------|------|
| 🟢 Done | 已完成 | 绿色 |
| 🔵 Doing | 进行中 | 蓝色 |
| ⚪ Todo | 待处理 | 白色 |
| 🔴 Blocked | 阻塞 | 红色 |
| ⚫ Skipped | 跳过 | 黑色 |

---

## P1: 高优先级

> 优先处理，高收益低风险

| # | 模块 | 预估状态 | 策略 | 评分 | 状态 | 负责人 | 备注 |
|---|------|----------|------|------|------|--------|------|
| 1 | core/utils | S1 | L1 | 25 | 🟢 Done | - | 快速胜利，已完成 |
| 2 | core/parser | S2 | L1+L2 | 22 | 🔵 Doing | - | 核心模块 |
| 3 | core/config | S1 | L1 | 20 | ⚪ Todo | - | 依赖 utils |

---

## P2: 中优先级

> 重要但需要一定投入

| # | 模块 | 预估状态 | 策略 | 评分 | 状态 | 负责人 | 备注 |
|---|------|----------|------|------|------|--------|------|
| 4 | io/file | S2 | L2 | 14 | ⚪ Todo | - | I/O 依赖 |
| 5 | io/network | S3 | L2 | 12 | ⚪ Todo | - | 需要解耦 |
| 6 | service/handler | S2 | L1+L2 | 11 | ⚪ Todo | - | |

---

## P3: 低优先级

> 收益较低或风险较高

| # | 模块 | 预估状态 | 策略 | 评分 | 状态 | 负责人 | 备注 |
|---|------|----------|------|------|------|--------|------|
| 7 | driver/hw | S3 | L3 | 6 | ⚪ Todo | - | 硬件依赖 |
| 8 | legacy/old | S4 | - | 4 | 🔴 Blocked | - | 业务不清，需人工 |
| 9 | test/mock | S1 | L1 | 3 | ⚫ Skipped | - | 测试辅助，暂不处理 |

---

## 阻塞项

| 模块 | 阻塞原因 | 需要 | 预计解除 |
|------|----------|------|----------|
| legacy/old | 业务规则不清 | 产品确认 | 待定 |

---

## 处理建议

### 第一批（打样，1-2天）
目标：建立信心，验证流程

1. ✅ core/utils - 已完成
2. 🔵 core/parser - 进行中

### 第二批（核心，3-5天）
目标：覆盖核心模块

3. core/config
4. io/file
5. service/handler

### 第三批（扩展，1周+）
目标：扩大覆盖

6. io/network
7. driver/hw（如有条件）

---

## 进度图表

```
进度: [████████████░░░░░░░░] 40%

已完成: ████ (2)
进行中: ██ (1)
待处理: ██████████ (5)
阻塞:   ██ (1)
```

---

## 更新日志

| 日期 | 更新 |
|------|------|
| YYYY-MM-DD | 创建初始队列，10 个模块 |
| YYYY-MM-DD | core/utils 完成 |
| YYYY-MM-DD | 开始 core/parser |
```

---

## 单个条目详细模板

当需要记录更多细节时，可以展开为：

```markdown
### 模块: <module_name>

**基本信息**

| 属性 | 值 |
|------|-----|
| 路径 | `src/<module>/` |
| 预估状态 | S2 |
| 测试策略 | L1 + L2 |
| 优先级评分 | 收益(4) × 可测性(4) / 风险(2) = 8 |
| 当前状态 | Todo |

**评分依据**

- 收益(4/5): 
  - 改动频率：高（每周）
  - 业务重要性：核心功能
  - 被依赖程度：5+ 模块

- 可测性(4/5):
  - 依赖复杂度：中（有 I/O）
  - 边界清晰度：高
  - 已有 seam：部分

- 风险(2/5):
  - 耦合度：低
  - 并发：无
  - 硬件依赖：无

**执行计划**

1. [ ] Skill 04: 可测试性评估
2. [ ] Skill 05: 表征测试
3. [ ] Skill 07: 引入 Clock seam
4. [ ] Skill 06: 单元测试
5. [ ] Skill 08: 重构
6. [ ] Skill 11: 文档更新

**预估工作量**: 4-6 小时

**风险提示**:
- 配置文件加载可能需要 mock

**模块卡片**: [链接](modules/<module>.md)
```

---

## 快速更新命令

```bash
# 更新模块状态为 Done
sed -i 's/| <module> |.*|.*| ⚪ Todo/| <module> | ... | 🟢 Done/' docs/testing/backlog.md

# 统计各状态数量
echo "Done: $(grep -c '🟢 Done' docs/testing/backlog.md)"
echo "Doing: $(grep -c '🔵 Doing' docs/testing/backlog.md)"
echo "Todo: $(grep -c '⚪ Todo' docs/testing/backlog.md)"
echo "Blocked: $(grep -c '🔴 Blocked' docs/testing/backlog.md)"
```
